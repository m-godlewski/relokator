{% load static %}
<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.5.0/css/all.css" integrity="sha384-B4dIYHKNBt8Bc12p+WXckhzcICo0wtJAoU8YZTY5qE0Id1GSseTk6S+L3BlXeVIU" crossorigin="anonymous">
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css">
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js"></script>

<nav class="navbar navbar-expand-md navbar-dark bg-dark" style="padding:1% 3% 1% 3%;">

  {# logo button #}
  <a class="navbar-brand" href="/"><img src="{% static 'website/images/logo.png' %}"></a>

  {# hamburger menu #}
  <button class="navbar-toggler navbar-toggler-right" type="button" data-toggle="collapse" data-target="#navb" aria-expanded="true">
    <span class="navbar-toggler-icon"></span>
  </button>

  {# navbar menu icons #}
  <div id="navb" class="navbar-collapse collapse hide">

    <ul id="navbar-menu" class="nav navbar-nav ml-auto" style="font-size:20px;">

      {# is user is logged in #}
      {% if user.is_authenticated%}

          {# superuser/admin panel #}
          {% if user.is_staff %}
            <li class="nav-item">
              <a class="nav-link" href="/admin"><span class="fas fa-user-astronaut"></span> Panel Administracyjny</a>
            </li>
          {% endif %}

          {# my profile #}
          <li class="nav-item">
            <a class="nav-link" href="/accounts/{{request.user}}/info"><span class="fas fa-user"></span> Mój Profil</a>
          </li>
          
          {# adverts dropdown menu #}
          <li class="nav-item dropdown">
            <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
              <span class="far fa-newspaper"></span> Ogłoszenia
            </a>
            <div class="dropdown-menu" aria-labelledby="navbarDropdown">
              <a class="dropdown-item" href="/adverts/new">Stwórz</a>
              <a class="dropdown-item" href="/adverts">Przeglądaj</a>
              <div class="dropdown-divider"></div>
              <a class="dropdown-item" href="/accounts/{{request.user.username}}/adverts">Moje ogłoszenia</a>
            </div>
          </li>

          {# companies dropdown menu #}
          <li class="nav-item dropdown">
            <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
              <span class="fa fa-briefcase"></span> Firmy
            </a>
            <div class="dropdown-menu" aria-labelledby="navbarDropdown">
              <a class="dropdown-item" href="/companies">Przeglądaj</a>
              <div class="dropdown-divider"></div>
              <a class="dropdown-item" href="/accounts/{{request.user.username}}/companies">Moja firma</a>
            </div>
          </li>

          {# sign out #}
          <li class="nav-item">
            <a class="nav-link" href="{% url 'logout' %}"><span class="fas fa-sign-out-alt"></span> Wyloguj</a>
          </li>

      {% else %}  {# if user is not logged in #}
          
          {# sign up #}
          <li class="nav-item">
            <a class="nav-link" href="/accounts/login/"><span class="fas fa-sign-in-alt"></span> Zaloguj się</a>
          </li>

          {# sign up #}
          <li class="nav-item">
            <a class="nav-link" href="/accounts/register/"><span class="fas fa-user-plus"></span> Zarejestruj się</a>
          </li>

      {% endif %}

    </ul>

  </div>
  
</nav>
